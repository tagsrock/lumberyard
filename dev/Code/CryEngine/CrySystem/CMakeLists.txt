set(THIS_PROJECT CrySystem)

project( ${THIS_PROJECT} )

#START-FILE-LIST
# File List auto generated by waf2cmake.py, do not modify manually.

set (SourceGroup_CheatProtection
	DataProbe.cpp
	DataProbe.h
)
source_group("CheatProtection" FILES ${SourceGroup_CheatProtection})


set (SourceGroup_CodeCoverage
	CodeCoverage/CodeCheckpointMgr.cpp
	CodeCoverage/CodeCheckpointMgr.h
)
source_group("CodeCoverage" FILES ${SourceGroup_CodeCoverage})


set (SourceGroup_ExtensionSystem
	ExtensionSystem/CryFactoryRegistryImpl.cpp
	ExtensionSystem/CryFactoryRegistryImpl.h
)
source_group("ExtensionSystem" FILES ${SourceGroup_ExtensionSystem})


set (SourceGroup_ExtensionSystem_TestCases
	ExtensionSystem/TestCases/TestExtensions.cpp
	ExtensionSystem/TestCases/TestExtensions.h
)
source_group("ExtensionSystem\\TestCases" FILES ${SourceGroup_ExtensionSystem_TestCases})


set (SourceGroup_HTTPDownloader
	DownloadManager.cpp
	DownloadManager.h
	HTTPDownloader.cpp
	HTTPDownloader.h
)
source_group("HTTPDownloader" FILES ${SourceGroup_HTTPDownloader})


set (SourceGroup_HeaderFiles
	BootProfiler.h
	BudgetingSystem.h
	CPUDetect.h
	CmdLine.h
	CmdLineArg.h
	ConsoleBatchFile.h
	ConsoleHelpGen.h
	CryPak.h
	CryPakHandleCache.h
	CrySizerImpl.h
	CrySizerStats.h
	CryWaterMark.h
	DebugCallStack.h
	DurangoDebugCallstack.h
	GeneralMemoryHeap.h
	HardwareMouse.h
	HeadMountedDevices/NULL/HMDNullDevice.h
	HotUpdate.h
	IDebugCallStack.h
	Log.h
	MemoryFragmentationProfiler.h
	NotificationNetwork.h
	PakVars.h
	PlatformOS/PatternMatcher.h
	Serialization/ArchiveHost.h
	Serialization/BinArchive.h
	Serialization/JSONIArchive.h
	Serialization/JSONOArchive.h
	Serialization/MemoryReader.h
	Serialization/MemoryWriter.h
	SimpleStringPool.h
	Statistics/LocalMemoryUsage.h
	StdAfx.h
	StdAfx.cpp
	System.h
	SystemCFG.h
	SystemEventDispatcher.h
	SystemInit.h
	Timer.h
	Validator.h
	XConsole.h
	XConsoleVariable.h
	XML/ReadWriteXMLSink.h
	resource.h
)
source_group("Header Files" FILES ${SourceGroup_HeaderFiles})


set (SourceGroup_HeadmountedDevices
	HeadMountedDevices/HMDManager.cpp
	HeadMountedDevices/HMDManager.h
)
source_group("HeadmountedDevices" FILES ${SourceGroup_HeadmountedDevices})


set (SourceGroup_HeadmountedDevices_Cinemizer
	HeadMountedDevices/Cinemizer/CinemizerDevice.cpp
	HeadMountedDevices/Cinemizer/CinemizerDevice.h
)
source_group("HeadmountedDevices\\Cinemizer" FILES ${SourceGroup_HeadmountedDevices_Cinemizer})


set (SourceGroup_HeadmountedDevices_Oculus
	HeadMountedDevices/Oculus/OculusAllocator.cpp
	HeadMountedDevices/Oculus/OculusAllocator.h
	HeadMountedDevices/Oculus/OculusConfig.cpp
	HeadMountedDevices/Oculus/OculusConfig.h
	HeadMountedDevices/Oculus/OculusDevice.cpp
	HeadMountedDevices/Oculus/OculusDevice.h
	HeadMountedDevices/Oculus/OculusLog.cpp
	HeadMountedDevices/Oculus/OculusLog.h
	HeadMountedDevices/Oculus/OculusResources.cpp
	HeadMountedDevices/Oculus/OculusResources.h
)
source_group("HeadmountedDevices\\Oculus" FILES ${SourceGroup_HeadmountedDevices_Oculus})


set (SourceGroup_HuffmanEncoding
	Huffman.cpp
	Huffman.h
)
source_group("HuffmanEncoding" FILES ${SourceGroup_HuffmanEncoding})


set (SourceGroup_JobManager
	JobManager/JobManager.cpp
	JobManager/JobManager.h
	JobManager/JobStructs.h
)
source_group("JobManager" FILES ${SourceGroup_JobManager})


set (SourceGroup_JobManager_BlockingBackend
	JobManager/BlockingBackend/BlockingBackEnd.cpp
	JobManager/BlockingBackend/BlockingBackEnd.h
)
source_group("JobManager\\BlockingBackend" FILES ${SourceGroup_JobManager_BlockingBackend})


set (SourceGroup_JobManager_FallbackBackend
	JobManager/FallbackBackend/FallBackBackend.h
	JobManager/FallbackBackend/FallbackBackend.cpp
)
source_group("JobManager\\FallbackBackend" FILES ${SourceGroup_JobManager_FallbackBackend})


set (SourceGroup_JobManager_ThreadBackEnd
	JobManager/PCBackEnd/ThreadBackEnd.cpp
	JobManager/PCBackEnd/ThreadBackEnd.h
)
source_group("JobManager\\ThreadBackEnd" FILES ${SourceGroup_JobManager_ThreadBackEnd})


set (SourceGroup_LZ4Decompressor
	LZ4Decompressor.cpp
	LZ4Decompressor.h
)
source_group("LZ4Decompressor" FILES ${SourceGroup_LZ4Decompressor})


set (SourceGroup_Localization
	LocalizedStringManager.cpp
	LocalizedStringManager.h
)
source_group("Localization" FILES ${SourceGroup_Localization})


set (SourceGroup_Mac
	SystemUtilsApple.h
	SystemUtilsApple.mm
)
source_group("Mac" FILES ${SourceGroup_Mac})


set (SourceGroup_MemoryManager
	CryMemoryManager.cpp
	CustomMemoryHeap.cpp
	DefragAllocator.cpp
	DefragAllocator.h
	MTSafeAllocator.cpp
	MTSafeAllocator.h
	MemReplay.h
	MemoryAddressRange.cpp
	MemoryAddressRange.h
	MemoryManager.cpp
	MemoryManager.h
	PageMappingHeap.cpp
	PageMappingHeap.h
)
source_group("MemoryManager" FILES ${SourceGroup_MemoryManager})


set (SourceGroup_MiniGUI
	MiniGUI/DrawContext.cpp
	MiniGUI/DrawContext.h
	MiniGUI/MiniButton.cpp
	MiniGUI/MiniButton.h
	MiniGUI/MiniGUI.cpp
	MiniGUI/MiniGUI.h
	MiniGUI/MiniInfoBox.cpp
	MiniGUI/MiniInfoBox.h
	MiniGUI/MiniMenu.cpp
	MiniGUI/MiniMenu.h
	MiniGUI/MiniTable.cpp
	MiniGUI/MiniTable.h
)
source_group("MiniGUI" FILES ${SourceGroup_MiniGUI})


set (SourceGroup_NullImplementation
	NullImplementation/NULLAudioSystems.h
	NullImplementation/NullInput.h
	NullImplementation/NullLiveCreate.h
	NullImplementation/NullResponseSystem.h
)
source_group("NullImplementation" FILES ${SourceGroup_NullImplementation})


set (SourceGroup_OverloadSceneManager
	OverloadSceneManager/OverloadSceneManager.cpp
	OverloadSceneManager/OverloadSceneManager.h
)
source_group("OverloadSceneManager" FILES ${SourceGroup_OverloadSceneManager})


set (SourceGroup_PlatformOS
	PlatformOS/PlatformOS_Durango.cpp
	PlatformOS/PlatformOS_Durango.h
	PlatformOS/PlatformOS_Orbis.cpp
	PlatformOS/PlatformOS_Orbis.h
	PlatformOS/PlatformOS_PC.cpp
	PlatformOS/PlatformOS_PC.h
	PlatformOS/SaveReaderWriter_CryPak.cpp
	PlatformOS/SaveReaderWriter_CryPak.h
	PlatformOS/SaveReaderWriter_Durango.cpp
	PlatformOS/SaveReaderWriter_Durango.h
	PlatformOS/SaveReaderWriter_Memory.cpp
	PlatformOS/SaveReaderWriter_Memory.h
	PlatformOS/SaveReaderWriter_Steam.cpp
	PlatformOS/SaveReaderWriter_Steam.h
	PlatformOS/StreamingInstall_Durango.cpp
	PlatformOS/StreamingInstall_Durango.h
)
source_group("PlatformOS" FILES ${SourceGroup_PlatformOS})


set (SourceGroup_Profiler
	DiskProfiler.cpp
	DiskProfiler.h
	FrameProfileRender.cpp
	FrameProfileSystem.cpp
	FrameProfileSystem.h
	LoadingProfiler.cpp
	LoadingProfiler.h
	PerfHUD.cpp
	PerfHUD.h
	ProfileLogSystem.cpp
	ProfileLogSystem.h
	Sampler.cpp
	Sampler.h
)
source_group("Profiler" FILES ${SourceGroup_Profiler})


set (SourceGroup_RemoteConsole
	RemoteConsole/RemoteConsole.cpp
	RemoteConsole/RemoteConsole.h
)
source_group("RemoteConsole" FILES ${SourceGroup_RemoteConsole})


set (SourceGroup_ResourceFiles
	crash_face.bmp
)
source_group("Resource Files" FILES ${SourceGroup_ResourceFiles})


set (SourceGroup_Root
	CrashHandler.rc
	StdAfx.cpp
)
source_group("Root" FILES ${SourceGroup_Root})


set (SourceGroup_Scaleform
	Scaleform/ConfigScaleform.cpp
	Scaleform/ConfigScaleform.h
	Scaleform/FlashPlayerInstance.cpp
	Scaleform/FlashPlayerInstance.h
	Scaleform/GAllocatorCryMem.cpp
	Scaleform/GAllocatorCryMem.h
	Scaleform/GFileCryPak.cpp
	Scaleform/GFileCryPak.h
	Scaleform/GFxVideoSoundCrySound.cpp
	Scaleform/GFxVideoSoundCrySound.h
	Scaleform/GFxVideoWrapper.cpp
	Scaleform/GFxVideoWrapper.h
	Scaleform/GImageInfoXRender.cpp
	Scaleform/GImageInfoXRender.h
	Scaleform/GImeHelper.cpp
	Scaleform/GImeHelper.h
	Scaleform/GMemorySTLAlloc.h
	Scaleform/GRendererXRender.cpp
	Scaleform/GRendererXRender.h
	Scaleform/GTextureXRender.cpp
	Scaleform/GTextureXRender.h
	Scaleform/SharedResources.cpp
	Scaleform/SharedResources.h
	Scaleform/SharedStates.cpp
	Scaleform/SharedStates.h
)
source_group("Scaleform" FILES ${SourceGroup_Scaleform})


set (SourceGroup_Serialization
	Serialization/ArchiveHost.cpp
	Serialization/BinArchive.cpp
	Serialization/JSONIArchive.cpp
	Serialization/JSONOArchive.cpp
	Serialization/MemoryReader.cpp
	Serialization/MemoryWriter.cpp
	Serialization/Test_ArchiveHost.cpp
	Serialization/Token.h
	Serialization/XmlIArchive.cpp
	Serialization/XmlIArchive.h
	Serialization/XmlOArchive.cpp
	Serialization/XmlOArchive.h
)
source_group("Serialization" FILES ${SourceGroup_Serialization})


set (SourceGroup_Services
	RemoteCommand.cpp
	RemoteCommand.h
	RemoteCommandClient.cpp
	RemoteCommandHelpers.cpp
	RemoteCommandHelpers.h
	RemoteCommandServer.cpp
	ServiceNetwork.cpp
	ServiceNetwork.h
)
source_group("Services" FILES ${SourceGroup_Services})


set (SourceGroup_SoftCode
	SoftCode/SoftCodeMgr.cpp
	SoftCode/SoftCodeMgr.h
)
source_group("SoftCode" FILES ${SourceGroup_SoftCode})


set (SourceGroup_SourceFiles
	AVI_Reader.cpp
	AVI_Reader.h
	AsyncPakManager.cpp
	AsyncPakManager.h
	AutoDetectCPUTestSuit.cpp
	AutoDetectCPUTestSuit.h
	AutoDetectSpec.cpp
	AutoDetectSpec.h
	BootProfiler.cpp
	BudgetingSystem.cpp
	CPUDetect.cpp
	ClientHandler.cpp
	ClientHandler.h
	CmdLine.cpp
	CmdLineArg.cpp
	CompressedFile.cpp
	ConsoleBatchFile.cpp
	ConsoleHelpGen.cpp
	CryArchive.cpp
	CryArchive.h
	CryAsyncMemcpy.cpp
	CryDLMalloc.c
	CryPak.cpp
	CrySizerImpl.cpp
	CrySizerStats.cpp
	DebugCallStack.cpp
	DllMain.cpp
	DurangoDebugCallstack.cpp
	DxDiag.h
	FileIOWrapper.cpp
	FileIOWrapper.h
	GeneralMemoryHeap.cpp
	HandlerBase.cpp
	HandlerBase.h
	HardwareMouse.cpp
	IDebugCallStack.cpp
	ImeManager.cpp
	ImeManager.h
	JiraClient.cpp
	JiraClient.h
	LevelHeap.cpp
	Log.cpp
	MemReplay.cpp
	NotificationNetwork.cpp
	OrbisDebugCallStack.cpp
	PhysRenderer.cpp
	PhysRenderer.h
	ResourceManager.cpp
	ResourceManager.h
	ServerHandler.cpp
	ServerHandler.h
	ServerThrottle.cpp
	ServerThrottle.h
	SyncLock.cpp
	SyncLock.h
	System.cpp
	SystemCFG.cpp
	SystemEventDispatcher.cpp
	SystemInit.cpp
	SystemRender.cpp
	SystemScheduler.cpp
	SystemScheduler.h
	SystemWin32.cpp
	Timer.cpp
	UnixConsole.cpp
	UnixConsole.h
	WindowsConsole.cpp
	WindowsConsole.h
	XConsole.cpp
	XConsoleVariable.cpp
)
source_group("Source Files" FILES ${SourceGroup_SourceFiles})


set (SourceGroup_Statistics
	Statistics/LocalMemoryUsage.cpp
)
source_group("Statistics" FILES ${SourceGroup_Statistics})


set (SourceGroup_Statoscope
	Statoscope.cpp
	Statoscope.h
	StatoscopeStreamingIntervalGroup.cpp
	StatoscopeStreamingIntervalGroup.h
	StatoscopeTextureStreamingIntervalGroup.cpp
	StatoscopeTextureStreamingIntervalGroup.h
)
source_group("Statoscope" FILES ${SourceGroup_Statoscope})


set (SourceGroup_StreamEngine
	StreamEngine/StreamAsyncFileRequest.cpp
	StreamEngine/StreamAsyncFileRequest.h
	StreamEngine/StreamAsyncFileRequest_Jobs.cpp
	StreamEngine/StreamEngine.cpp
	StreamEngine/StreamEngine.h
	StreamEngine/StreamIOThread.cpp
	StreamEngine/StreamIOThread.h
	StreamEngine/StreamReadStream.cpp
	StreamEngine/StreamReadStream.h
)
source_group("StreamEngine" FILES ${SourceGroup_StreamEngine})


set (SourceGroup_Stroboscope
	Stroboscope/Stroboscope.cpp
	Stroboscope/Stroboscope.h
)
source_group("Stroboscope" FILES ${SourceGroup_Stroboscope})


set (SourceGroup_Telemetry
	Telemetry/ITelemetryStream.h
	Telemetry/TelemetryFileStream.cpp
	Telemetry/TelemetryFileStream.h
	Telemetry/TelemetrySystem.cpp
	Telemetry/TelemetrySystem.h
	Telemetry/TelemetryUDPStream.cpp
	Telemetry/TelemetryUDPStream.h
)
source_group("Telemetry" FILES ${SourceGroup_Telemetry})


set (SourceGroup_TestSystem
	ExcelExport.cpp
	ExcelExport.h
	Statistics.cpp
	Statistics.h
	TestSystemLegacy.cpp
	TestSystemLegacy.h
	UnitTestExcelReporter.cpp
	UnitTestExcelReporter.h
	UnitTestSystem.cpp
	UnitTestSystem.h
	VisRegTest.cpp
	VisRegTest.h
)
source_group("TestSystem" FILES ${SourceGroup_TestSystem})


set (SourceGroup_Threading
	ThreadInfo.cpp
	ThreadInfo.h
	ThreadProfiler.cpp
	ThreadProfiler.h
	ThreadSampler.cpp
	ThreadSampler.h
	ThreadTask.cpp
	ThreadTask.h
)
source_group("Threading" FILES ${SourceGroup_Threading})


set (SourceGroup_Windows
	WindowsErrorReporting.cpp
)
source_group("Windows" FILES ${SourceGroup_Windows})


set (SourceGroup_XML
	XML/SerializeXMLReader.cpp
	XML/SerializeXMLReader.h
	XML/SerializeXMLWriter.cpp
	XML/SerializeXMLWriter.h
	XML/XMLBinaryNode.cpp
	XML/XMLBinaryNode.h
	XML/XMLBinaryReader.cpp
	XML/XMLBinaryReader.h
	XML/XMLBinaryWriter.cpp
	XML/XMLBinaryWriter.h
	XML/XMLPatcher.cpp
	XML/XMLPatcher.h
	XML/XmlUtils.cpp
	XML/XmlUtils.h
	XML/xml.cpp
	XML/xml.h
	XML/xml_string.h
)
source_group("XML" FILES ${SourceGroup_XML})


set (SourceGroup_XML_XMLSink
	XML/ReadXMLSink.cpp
	XML/WriteXMLSource.cpp
)
source_group("XML\\XMLSink" FILES ${SourceGroup_XML_XMLSink})


set (SourceGroup_ZLibCompressor
	ZLibCompressor.cpp
	ZLibCompressor.h
)
source_group("ZLibCompressor" FILES ${SourceGroup_ZLibCompressor})


set (SourceGroup_ZLibDecompressor
	ZLibDecompressor.cpp
	ZLibDecompressor.h
)
source_group("ZLibDecompressor" FILES ${SourceGroup_ZLibDecompressor})


set (SourceGroup_ZipDir
	ZipDir.h
	ZipDirCache.cpp
	ZipDirCache.h
	ZipDirCacheFactory.cpp
	ZipDirCacheFactory.h
	ZipDirCacheRW.cpp
	ZipDirCacheRW.h
	ZipDirFind.cpp
	ZipDirFind.h
	ZipDirFindRW.cpp
	ZipDirFindRW.h
	ZipDirList.cpp
	ZipDirList.h
	ZipDirStructures.cpp
	ZipDirStructures.h
	ZipDirTree.cpp
	ZipDirTree.h
	ZipEncrypt.cpp
	ZipEncrypt.h
	ZipFile.h
	ZipFileFormat.h
	ZipFileFormat_info.h
)
source_group("ZipDir" FILES ${SourceGroup_ZipDir})


# Support unity build with uber files
set(CrySystem_uber_0_cpp ${SourceGroup_HeaderFiles}  )
enable_unity_build( "CrySystem_uber_0.cpp" CrySystem_uber_0_cpp )

set(CrySystem_uber_1_cpp  )
enable_unity_build( "CrySystem_uber_1.cpp" CrySystem_uber_1_cpp )

set(CrySystem_uber_2_cpp ${SourceGroup_MemoryManager} ${SourceGroup_ResourceFiles} ${SourceGroup_StreamEngine}  )
enable_unity_build( "CrySystem_uber_2.cpp" CrySystem_uber_2_cpp )

set(CrySystem_uber_3_cpp ${SourceGroup_XML} ${SourceGroup_XML_XMLSink} ${SourceGroup_ZipDir}  )
enable_unity_build( "CrySystem_uber_3.cpp" CrySystem_uber_3_cpp )

set(CrySystem_uber_4_cpp ${SourceGroup_CheatProtection} ${SourceGroup_HTTPDownloader} ${SourceGroup_Localization} ${SourceGroup_Profiler} ${SourceGroup_Windows}  )
enable_unity_build( "CrySystem_uber_4.cpp" CrySystem_uber_4_cpp )

set(CrySystem_uber_5_cpp ${SourceGroup_Scaleform} ${SourceGroup_TestSystem}  )
enable_unity_build( "CrySystem_uber_5.cpp" CrySystem_uber_5_cpp )

set(CrySystem_uber_6_cpp ${SourceGroup_ExtensionSystem} ${SourceGroup_ExtensionSystem_TestCases} ${SourceGroup_MiniGUI} ${SourceGroup_NullImplementation} ${SourceGroup_Threading}  )
enable_unity_build( "CrySystem_uber_6.cpp" CrySystem_uber_6_cpp )

set(CrySystem_uber_7_cpp ${SourceGroup_CodeCoverage} ${SourceGroup_Statistics} ${SourceGroup_Statoscope} ${SourceGroup_Telemetry} ${SourceGroup_ZLibCompressor}  )
enable_unity_build( "CrySystem_uber_7.cpp" CrySystem_uber_7_cpp )

set(CrySystem_uber_8_cpp ${SourceGroup_HuffmanEncoding} ${SourceGroup_JobManager} ${SourceGroup_JobManager_BlockingBackend} ${SourceGroup_JobManager_FallbackBackend} ${SourceGroup_JobManager_ThreadBackEnd} ${SourceGroup_OverloadSceneManager} ${SourceGroup_SoftCode}  )
enable_unity_build( "CrySystem_uber_8.cpp" CrySystem_uber_8_cpp )

set(CrySystem_uber_9_cpp ${SourceGroup_HeadmountedDevices} ${SourceGroup_HeadmountedDevices_Cinemizer} ${SourceGroup_HeadmountedDevices_Oculus} ${SourceGroup_LZ4Decompressor} ${SourceGroup_RemoteConsole} ${SourceGroup_Serialization} ${SourceGroup_Services} ${SourceGroup_Stroboscope} ${SourceGroup_ZLibDecompressor}  )
enable_unity_build( "CrySystem_uber_9.cpp" CrySystem_uber_9_cpp )

set(NoUberFile ${SourceGroup_Mac} ${SourceGroup_PlatformOS} ${SourceGroup_Root} ${SourceGroup_SourceFiles}  )


set (SOURCES
	${CrySystem_uber_0_cpp}
	${CrySystem_uber_1_cpp}
	${CrySystem_uber_2_cpp}
	${CrySystem_uber_3_cpp}
	${CrySystem_uber_4_cpp}
	${CrySystem_uber_5_cpp}
	${CrySystem_uber_6_cpp}
	${CrySystem_uber_7_cpp}
	${CrySystem_uber_8_cpp}
	${CrySystem_uber_9_cpp}
	${NoUberFile}
)
#END-FILE-LIST


include_directories( ${CMAKE_CURRENT_SOURCE_DIR} )
include_directories( ${SDK_DIR}/libtomcrypt/src/headers )
include_directories( ${SDK_DIR}/Scaleform/Include )
include_directories( ${SDK_DIR}/pdcurses )
include_directories( ${SDK_DIR}/Steamworks/public )
include_directories( ${SDK_DIR}/zlib-1.2.8 )
include_directories( ${SDK_DIR}/expat-2.1.0/lib )
include_directories( ${SDK_DIR}/lz4/lib )

if(WIN32)
	# Exlude files from Build
	set_source_files_properties(
		JobManager/SPUDriver_spu.cpp
		JobManager/SPUDriver/libDriverDMA/JobAPI_spu.cpp
			PROPERTIES HEADER_FILE_ONLY TRUE
	)
	add_definitions(-DEXCLUDE_OCULUS_SDK)
endif(WIN32)

if(ORBIS)
	# Exlude files from Build
	set_source_files_properties(
		PlatformOS/PlatformOS_PC.cpp
			PROPERTIES HEADER_FILE_ONLY TRUE
	)
endif(ORBIS)

if (NOT MACOS)
	set_source_files_properties( ${SourceGroup_Mac} PROPERTIES HEADER_FILE_ONLY TRUE )
endif()

if(WIN64)
	link_directories( ${SDK_DIR}/LibTomCrypt/lib/x64 )
elseif(WIN32)
	link_directories( ${SDK_DIR}/pdcurses/x86_debug )
	link_directories( ${SDK_DIR}/LibTomCrypt/lib/x86 )
endif()

if (DURANGO)
	add_definitions(-DEXCLUDE_CINEMIZER_SDK)
endif()

link_directories( ${SDK_DIR}/Scaleform/Lib/${BUILD_PLATFORM} )
link_directories( ${CMAKE_CURRENT_SOURCE_DIR} )

add_library( ${THIS_PROJECT} ${SOURCES})
target_link_libraries( ${THIS_PROJECT} zlib )
target_link_libraries( ${THIS_PROJECT} expat )
target_link_libraries( ${THIS_PROJECT} lz4 )
target_link_libraries( ${THIS_PROJECT} md5 )

if (WIN32 OR DURANGO)
	#Scaleform Libs
	target_link_libraries( ${THIS_PROJECT} debug Debug/libgfx )
	target_link_libraries( ${THIS_PROJECT} debug Debug/libgfx_video )
	target_link_libraries( ${THIS_PROJECT} debug Debug/libgfx_ime )
	target_link_libraries( ${THIS_PROJECT} debug Debug/libjpeg )

	target_link_libraries( ${THIS_PROJECT} optimized Release/libgfx )
	target_link_libraries( ${THIS_PROJECT} optimized Release/libgfx_video )
	target_link_libraries( ${THIS_PROJECT} optimized Release/libgfx_ime )
	target_link_libraries( ${THIS_PROJECT} optimized Release/libjpeg )
endif()

if (WIN32)
	#Scaleform Libs
	target_link_libraries( ${THIS_PROJECT} debug Debug/libpng )
	target_link_libraries( ${THIS_PROJECT} optimized Release/libpng )
endif()

if(WIN32)
	target_link_libraries( ${THIS_PROJECT} wininet Winmm Version ws2_32 Shlwapi Vfw32 Psapi)
	target_link_libraries( ${THIS_PROJECT} debug libtomcrypt_debug debug libtommath_debug )
	target_link_libraries( ${THIS_PROJECT} optimized libtomcrypt optimized libtommath )
endif()

if(DURANGO)
	target_link_libraries( ${THIS_PROJECT} ws2_32 uuid )
endif()

if (WIN64)
	target_link_libraries( ${THIS_PROJECT} ${SDK_DIR}/Steamworks/redistributable_bin/win64/steam_api64.lib )
elseif (WIN32)
	target_link_libraries( ${THIS_PROJECT} ${SDK_DIR}/Steamworks/redistributable_bin/steam_api.lib )
endif()

USE_MSVC_PRECOMPILED_HEADER( ${THIS_PROJECT} "StdAfx.h" "StdAfx.cpp" )

SET_PLATFORM_TARGET_PROPERTIES( ${THIS_PROJECT} )

if (DURANGO)
	# add winmd search paths
	set_property( TARGET ${THIS_PROJECT} APPEND_STRING PROPERTY VS_CONFIG_PROPERTY_GROUP_ReferencePath ";${DURANGO_SDK}/Extensions/Xbox Services API/8.0/References/CommonConfiguration/neutral")
endif()